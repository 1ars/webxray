<!DOCTYPE html>
<meta charset="utf-8">
<title>mix-master replaceFocusedElementWithDialog() dialog</title>
<p>This file is used to test the <code>mixMaster.replaceFocusedElementWithDialog()</code> method.</p>
<script>
function respond(response) {
  window.parent.postMessage(JSON.stringify(response), "*");
}

window.addEventListener("message", function(event) {
  var data = JSON.parse(event.data);
  
  switch (window.location.search) {
    case "?test=ok":
    respond({
      msg: 'ok',
      endHTML: '<p>hi from mix-master-dialog.html, source text is ' +
               data.startHTML + '</p>'
    });
    break;

    case "?test=nevermind":
    respond({msg: 'nevermind'});
    break;
  }
}, false);
</script>
